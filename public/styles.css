/* ========== Base ========== */
:root { --ring: 0 0% 0%; }
* { box-sizing: border-box; }
html, body { height: 100%; }
body { -webkit-tap-highlight-color: transparent; }
.animate-fade-in { animation: fade-in .25s ease both; }

@keyframes fade-in { from { opacity: 0; transform: translateY(2px);} to { opacity:1; transform:none;} }

/* Layering so seasonal effects stay behind the UI */
#app { position: relative; z-index: 1; }
footer { position: relative; z-index: 1; }
#leaf-layer { position: fixed; inset: 0; z-index: 0; pointer-events: none; overflow: hidden; }

/* ========== Panels & Common UI ========== */
.panel {
    background: #ffffff;
    border-radius: 12px;
    border: 1px solid #e2e8f0;
    box-shadow: 0 4px 18px -8px rgba(15,23,42,.15);
    padding: 12px;
}
.panel-title {
    font-weight: 700;
    font-size: 1.125rem;
}
.panel-title .subtle { font-weight: 500; color: #475569; font-size: .85rem; }
.panel--muted { background: #f8fafc; }
.panel--note { background: #fff7ed; border-color: #fed7aa; }
.panel--info { background: #e0f2fe; border-color: #bae6fd; }

/* small chips/pills */
.chip, .player-pill {
    display: inline-flex; align-items: center; gap: .35rem;
    padding: .2rem .5rem; border-radius: 999px; font-size: .8rem; line-height: 1;
    background: #f1f5f9; color:#0f172a; border:1px solid #e2e8f0;
}
.chip-hidden { display: none; }
@media (min-width: 640px){ .chip-hidden{ display: inline-flex; }}

/* Legend dots */
.legend-dot { width: .7rem; height: .7rem; border-radius: 999px; display: inline-block; }

/* Buttons */
.btn {
    padding: .5rem .75rem; border-radius: .75rem;
    background: #475569; color: white; border: none;
    transition: transform .06s ease, box-shadow .2s ease, background .2s ease;
}
.btn:hover { filter: brightness(1.08); }
.btn:active { transform: translateY(1px) scale(.995); }
.btn-primary { background: #059669; }
.btn-danger { background: #dc2626; }

/* Scroll lists (called/available) */
.scroll-col {
    max-height: calc(100vh - 220px);
    overflow: auto;
    scrollbar-width: thin;
    scrollbar-color: #cbd5e1 transparent;
}
.scroll-col::-webkit-scrollbar { width: 10px; }
.scroll-col::-webkit-scrollbar-thumb { background:#cbd5e1; border-radius: 999px; }
.scroll-col::-webkit-scrollbar-track { background: transparent; }

/* ========== Bingo Card ========== */

/* Fall theme for bingo card panel */
#card {
    background: linear-gradient(135deg, #fffaf0, #fef3c7); /* warm ivory → soft amber */
    padding: 1rem;
    border-radius: 1rem;
    border: 1px solid #fcd34d; /* amber-300 */
}

/* Grid comes from Tailwind classes in HTML:
   .grid .grid-cols-5 .gap-2 — we only need tile sizing here. */

/* Tile wrapper: guarantees a perfect square slot.
   We animate this wrapper so transforms don’t fight inner layout. */
.tile-anim{
    display:block;
    aspect-ratio: 1 / 1;     /* <-- keeps every cell square */
    position: relative;
}

/* Actual tile fills the wrapper */
.tile{
    position: absolute; inset: 0;
    display:flex; align-items:center; justify-content:center;
    text-align:center;
    padding: .5rem .55rem;
    background:#f1f5f9;              /* slate-100 */
    border:1px solid #e2e8f0;         /* slate-200 */
    border-radius: .9rem;
    box-shadow: 0 6px 18px -10px rgba(2,6,23,.15);

    /* Do NOT break words mid-word; wrap only at spaces */
    word-break: keep-all;
    overflow-wrap: normal;
    hyphens: manual;

    /* typography */
    color:#0f172a;
    line-height: 1.05;
    font-weight: 600;

    /* interaction */
    cursor: pointer;
    transition: transform .15s ease, box-shadow .2s ease, background .2s ease, border-color .2s ease;
}
.tile:hover { transform: translateY(-1px); }
.tile:active { transform: translateY(0); }

/* Free tile */
.tile-free { background:#a7f3d0; border-color:#34d399; }

/* States */
.tile.marked{
    background:#fde68a;                 /* amber-300 */
    border:1px solid #A5F3FC;           /* sky-200 */
    box-shadow:0 8px 22px -8px rgba(14,165,233,.35);
}
.tile.called-unmarked{
    background:#fca5a5; color:#0F172A;
    border:1px dashed #CBD5E1;
}
.tile.called-marked{
    background:#86efac;
    border:1px solid #86EFAC;
    box-shadow:0 8px 22px -8px rgba(16,185,129,.35);
}
.tile.winning{ outline:3px solid #34D399; }

/* Wiggle animation (applied to wrapper to move the whole square) */
.tile-wiggle { animation: tile-wiggle 400ms cubic-bezier(.36,.07,.19,.97) both; }
@keyframes tile-wiggle {
    0%   { transform: rotate(0deg); }
    15%  { transform: rotate(-15deg); }
    30%  { transform: rotate(15deg); }
    45%  { transform: rotate(-10deg); }
    60%  { transform: rotate(10deg); }
    75%  { transform: rotate(-5deg); }
    90%  { transform: rotate(5deg); }
    100% { transform: rotate(0deg); }
}

/* ========== Ripple (for buttons; safe to keep) ========== */
.ripple { position: absolute; border-radius: 999px; transform: scale(0); animation: ripple .6s linear; opacity:.4; pointer-events:none; }
@keyframes ripple { to { transform: scale(12); opacity: 0; } }

/* ========== Toasts / Alerts (optional) ========== */
.toast {
    display:flex; gap:.5rem; align-items:center;
    background:#f8fafc; border:1px solid #e2e8f0; border-radius:.75rem;
    padding:.6rem .75rem; box-shadow: 0 6px 20px -10px rgba(15,23,42,.25);
}

/* ========== Seasonal Leaf Effect (kept lightweight) ========== */
.leaf {
    position: absolute;
    top: -40px;
    font-size: clamp(10px, 1.8vw, 22px);
    user-select: none;
    opacity: .85;
    animation: leaf-fall var(--fallDur,8s) linear var(--delay,0s), leaf-sway var(--swayDur,4.4s) ease-in-out infinite, leaf-spin var(--spinDur,3s) linear infinite;
    will-change: transform;
}
.leaf.color-1{ color:#f97316; } /* orange */
.leaf.color-2{ color:#ea580c; } /* deep orange */
.leaf.color-3{ color:#ef4444; } /* red */
.leaf.color-4{ color:#eab308; } /* amber */
.leaf.color-5{ color:#fbbf24; } /* golden */

@keyframes leaf-fall { to { transform: translateY(118vh); } }
@keyframes leaf-sway {
    0%,100%{ transform: translateX(calc(-1 * var(--swayAmp,28px))); }
    50%    { transform: translateX(var(--swayAmp,28px)); }
}
@keyframes leaf-spin { to { transform: rotate(360deg); } }

/* Motion sensitivity */
@media (prefers-reduced-motion: reduce){
    #leaf-layer{ display:none; }
}

/* ========== Utilities ========== */
.hide { display: none !important; }
.center { display:flex; align-items:center; justify-content:center; }
